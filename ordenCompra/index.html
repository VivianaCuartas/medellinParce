<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Resumen de Compra</title>
  <link rel="stylesheet" href="../ordenCompra/styleOrdenCompra.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
  <header>
    <div class="logo">
      <a href="../paginaPrincipal/home.html">
        <img src="../ordenCompra/logo medellin-parce1.png" alt="logo">
      </a>
    </div>
    <nav>
      <ul>
        <li><a href="../paginaPrincipal/home.html">INICIO</a></li>
        <li><a href="../paginaIntermedia/index.html">PRODUCTOS</a></li>
        <li><a href="../pantallaTemporal/index.html">BLOG</a></li>
        <li><a href="../pantallaTemporal/index.html">NOSOTROS</a></li>
        <li id="auth-section"><a href="../inicioSesion/index.html">INICIAR SESION</a></li>
        <li id="perfil-usuario">
          <img src="../modificacionDatos/image copy.png" alt="Icono de usuario" class="icono-usuario">
          <div class="dropdown-contenido">
            <a href="../modificacionDatos/index.html">Mi Perfil</a>
            <a href="../inicioSesion/index.html">Cerrar Sesi칩n</a>
          </div>
        </li>
        <li class="cart-icon-container">
          <i class="fas fa-shopping-cart cart-icon"></i>
          <span class="cart-count">0</span>
          <div class="cart-dropdown">
            <div class="cart-content"></div>
          </div>
        </li>
      </ul>
    </nav>
  </header>

  <main id="contenedor">
    <section id="factura">
      <h2 id="titulo-factura">Resumen de compra</h2>
      <small id="numero-factura">#Factura</small>

      <!-- Informaci칩n del cliente -->
      <div id="cliente-info">
        <!-- Los datos reales se insertan con JS -->
      </div>

      <!-- Productos a침adidos -->
      <div id="productos">
        <h3>游닍 Productos a침adidos</h3>
        <table id="tabla-productos">
          <thead>
            <tr>
              <th>Producto</th>
              <th>Precio</th>
              <th>Cantidad</th>
              <th>Subtotal</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="lista-productos">
            <tr>
              <td>Camisa Mujer</td>
              <td>$10.000</td>
              <td>
                <button class="btn-cantidad">-</button>
                1
                <button class="btn-cantidad">+</button>
              </td>
              <td>$240.000</td>
              <td><button class="btn-eliminar">游딈</button></td>
            </tr>
            <tr>
              <td>Camisa Hombre</td>
              <td>$44.000</td>
              <td>
                <button class="btn-cantidad">-</button>
                4
                <button class="btn-cantidad">+</button>
              </td>
              <td>$50.000</td>
              <td><button class="btn-eliminar">游딈</button></td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Totales -->
      <div id="totales">
        <p><strong>Subtotal:</strong></p>
        <p><strong>Descuento (20%):</strong></p>
        <p><strong>IVA (19%):</strong></p>
        <h3 id="total-pagar">TOTAL A PAGAR:</h3>
      </div>

      <button id="btn-finalizar">Finalizar compra</button>
    </section>
  </main>

  <footer>
    <div class="footer-info">
      <p>Medell칤n Parce</p>
      <p>Contacto: +57 305 2592493</p>
      <p>Email: <a href="mailto:info.medellinparce@gmail.com">info.medellinparce@gmail.com</a></p>
      <p>Todos los derechos reservados.</p>
    </div>
    <div class="footer-logo">
      <img src="../paginaPrincipal/logo.png" alt="Logo Medell칤n Parce">
    </div>
  </footer>

  <div id="toast-container"></div>

  <script src="../ordenCompra/orden.js"></script>
  <script src="../ordenCompra/app.js"></script>
  <script>
    // Script para manejar el carrito dropdown
    document.addEventListener('DOMContentLoaded', function() {
      const cartIcon = document.querySelector('.cart-icon-container');
      const cartDropdown = document.querySelector('.cart-dropdown');

      if (cartIcon && cartDropdown) {
        cartIcon.addEventListener('click', function(e) {
          e.stopPropagation();
          cartDropdown.classList.toggle('show');
        });

        document.addEventListener('click', function(e) {
          if (!cartDropdown.contains(e.target) && !cartIcon.contains(e.target)) {
            cartDropdown.classList.remove('show');
          }
        });
      }
    });
  </script>
</body>
</html>